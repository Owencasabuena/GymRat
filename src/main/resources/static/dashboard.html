<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GymRat - Workout Timer & Routines</title>
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/global.css">
    <link rel="stylesheet" href="/css/dashboard.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>

<body>
<header class="header">
    <div class="logo">
        <img src="/assets/img/logo.png" alt="GymRat logo">
        <h1 class="logo__text"><span>Gym</span><span>Rat</span></h1>
    </div>

    <nav class="nav" aria-label="Main navigation">
        <ul class="nav__list">
            <li class="nav__item"><a href="/settings" class="nav__link">Settings</a></li>
            <li class="nav__item"><a href="/logout" class="btn btn--primary">Logout</a></li>
        </ul>
    </nav>
</header>

<main class="container">
    <!-- Timer Section -->
    <section class="section timer-section">
        <h2 class="section__title">Timer</h2>
        <div class="timer">
            <div class="timer__display" role="timer" aria-live="polite">
                00:00
            </div>

            <div class="timer__presets">
                <button data-seconds="45" class="btn btn--preset">45 secs</button>
                <button data-seconds="60" class="btn btn--preset">1 min</button>
                <button data-seconds="120" class="btn btn--preset">2 mins</button>
                <button class="btn btn--preset btn--custom">Custom</button>
            </div>

            <div class="timer__custom" hidden>
                <form class="custom-form">
                    <label class="custom-form__label">Set Custom Time (MM:SS)</label>
                    <div class="custom-form__inputs">
                        <input
                                class="custom-form__input"
                                type="number"
                                name="minutes"
                                id="customMinutes"
                                placeholder="MM"
                                min="0"
                                max="99"
                                value="0"
                                aria-label="Minutes">
                        <input
                                class="custom-form__input"
                                type="number"
                                name="seconds"
                                id="customSeconds"
                                placeholder="SS"
                                min="0"
                                max="59"
                                value="0"
                                aria-label="Seconds">
                        <button type="submit" class="btn btn--primary btn--custom">Set</button>
                    </div>
                    <p class="custom-form__error" role="alert"></p>
                </form>
            </div>

            <div class="timer__controls">
                <button class="btn btn--control btn--start-pause">Start</button>
                <button class="btn btn--control btn--reset">Reset</button>
            </div>
        </div>
    </section>

    <!-- Routines Section -->
    <section class="section routine-section">
        <h2 class="section__title">Routines</h2>
        <div class="routines">
            <button class="btn btn--primary btn--add-routine">Add New Routine</button>

            <!-- Routine Cards Container -->
            <div class="routines__list" id="routinesList">
                <!-- Routine cards will be dynamically added here -->
            </div>
        </div>
    </section>

    <!-- Routine Modal (Reused for Add/Edit) -->
    <dialog class="modal" id="routineModal" aria-labelledby="routineModalTitle">
        <h2 class="modal__title" id="routineModalTitle">Add New Routine</h2>
        <form class="modal__form routine-form">
            <div class="form-group">
                <label class="form-group__label" for="routineName">Routine Name</label>
                <input
                        class="form-group__input"
                        type="text"
                        id="routineName"
                        name="routineName"
                        required
                        aria-describedby="nameError">
                <p class="form-group__error" id="nameError" role="alert"></p>
            </div>
            <div class="form-group">
                <label class="form-group__label" for="routineDescription">Description</label>
                <textarea
                        class="form-group__input form-group__textarea"
                        id="routineDescription"
                        name="routineDescription"
                        rows="3"
                        aria-describedby="descError"></textarea>
                <p class="form-group__error" id="descError" role="alert"></p>
            </div>
            <div class="modal__actions">
                <button type="button" class="btn btn--cancel">Cancel</button>
                <button type="submit" class="btn btn--primary">Save</button>
            </div>
        </form>
    </dialog>

    <!-- Exercise Modal -->
    <dialog class="modal" id="exerciseModal" aria-labelledby="exerciseModalTitle">
        <h2 class="modal__title" id="exerciseModalTitle">Add Exercise</h2>
        <form class="modal__form exercise-form">
            <div class="form-group">
                <label class="form-group__label" for="exerciseName">Exercise Name</label>
                <input
                        class="form-group__input"
                        type="text"
                        id="exerciseName"
                        name="exerciseName"
                        required
                        placeholder="e.g., Bench Press"
                        aria-describedby="exerciseNameError">
                <p class="form-group__error" id="exerciseNameError" role="alert"></p>
            </div>

            <div class="form-group">
                <label class="form-group__label" for="exerciseSets">Sets</label>
                <input
                        class="form-group__input"
                        type="number"
                        id="exerciseSets"
                        name="exerciseSets"
                        required
                        min="1"
                        max="99"
                        placeholder="e.g., 3"
                        aria-describedby="exerciseSetsError">
                <p class="form-group__error" id="exerciseSetsError" role="alert"></p>
            </div>

            <div class="form-group">
                <label class="form-group__label">Type</label>
                <div class="radio-group">
                    <label class="radio-label">
                        <input
                                type="radio"
                                name="exerciseType"
                                value="reps"
                                checked
                                class="radio-input">
                        <span>Reps</span>
                    </label>
                    <label class="radio-label">
                        <input
                                type="radio"
                                name="exerciseType"
                                value="duration"
                                class="radio-input">
                        <span>Duration</span>
                    </label>
                </div>
            </div>

            <!-- Reps Input (shown by default) -->
            <div class="form-group" id="repsGroup">
                <label class="form-group__label" for="exerciseReps">Reps</label>
                <input
                        class="form-group__input"
                        type="number"
                        id="exerciseReps"
                        name="exerciseReps"
                        min="1"
                        max="999"
                        placeholder="e.g., 10">
                <p class="form-group__error" id="exerciseRepsError" role="alert"></p>
            </div>

            <!-- Duration Input (hidden by default) -->
            <div class="form-group" id="durationGroup" hidden>
                <label class="form-group__label" for="exerciseDuration">Duration (seconds)</label>
                <input
                        class="form-group__input"
                        type="number"
                        id="exerciseDuration"
                        name="exerciseDuration"
                        min="1"
                        max="9999"
                        placeholder="e.g., 60">
                <p class="form-group__error" id="exerciseDurationError" role="alert"></p>
            </div>

            <div class="form-group">
                <label class="form-group__label" for="exerciseWeight">Weight (kg) - Optional</label>
                <input
                        class="form-group__input"
                        type="number"
                        id="exerciseWeight"
                        name="exerciseWeight"
                        min="0"
                        step="0.5"
                        placeholder="e.g., 50">
            </div>

            <div class="modal__actions">
                <button type="button" class="btn btn--cancel">Cancel</button>
                <button type="submit" class="btn btn--primary">Save</button>
            </div>
        </form>
    </dialog>

    <!-- Delete Routine Confirmation Dialog -->
    <dialog class="modal modal--confirm" id="deleteRoutineModal" aria-labelledby="deleteRoutineTitle">
        <form class="modal__form delete-form">
            <p class="modal__text" id="deleteRoutineTitle">Are you sure you want to delete this routine?</p>
            <div class="modal__actions">
                <button type="button" class="btn btn--cancel">Cancel</button>
                <button type="submit" class="btn btn--danger">Delete</button>
            </div>
        </form>
    </dialog>

    <!-- Delete Exercise Confirmation Dialog -->
    <dialog class="modal modal--confirm" id="deleteExerciseModal" aria-labelledby="deleteExerciseTitle">
        <form class="modal__form delete-form">
            <p class="modal__text" id="deleteExerciseTitle">Are you sure you want to delete this exercise?</p>
            <div class="modal__actions">
                <button type="button" class="btn btn--cancel">Cancel</button>
                <button type="submit" class="btn btn--danger">Delete</button>
            </div>
        </form>
    </dialog>

</main>

<script type="module" src="/js/dashboard.js"></script>

</body>
</html>